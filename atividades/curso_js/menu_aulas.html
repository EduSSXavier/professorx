<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Pessoal - Eduardo xavier</title>
    <link rel="stylesheet" href="../../xavier.css">
</head>
<body>
    <header>
        <div>
            <img src="../../imagens/eu_pixar3d.png">
            Prof. Xavier
        </div>
        <nav>
            <button onclick="window.location.assign('../../index.html')">INÍCIO</button>
        </nav>
    </header>
    <section id="atividade">
        <div class="titulo">
            <h1>Curso: Javascript</h1>
        </div>
        <div class="aula">
            <img src="../../imagens/icone_prof.png" class="icone">            
            <a href="./JS_aula01.html">AULA 01 - Introdução à Linguagem Javascript</a>
        </div>
        <div class="aula">
            <img src="../../imagens/icone_prof.png" class="icone">            
            <a href="./JS_aula02.html">AULA 02 - Estruturas Condicionais</a>
        </div>
        <div class="aula">
            <img src="../../imagens/icone_prof.png" class="icone">            
            <a href="./JS_aula03.html">AULA 03 - Estruturas de Repetição</a>
        </div>
    </section>

    <script>
         function registrar() {
            let tur = document.getElementById('turma').value;
            let mat = document.getElementById('matricula').value;
            let chv = document.getElementById('chave').value;
            let mensagem = {turma:tur, matricula:mat, chave:chv};
            let url = "https://apichamada.eduardoxavier3.repl.co/registrar"
            const options = { 
                     method: "POST",
                     mode: "cors",
                     headers: {
                     'content-type': 'application/json;charset=utf-8',
                     },
                     body: JSON.stringify(mensagem),
                  };

            fetch (url,options)
                .then(resp => resp.json())
                .then(dados => {
                        result = "<h3>Resposta:</h3>";
                        result += "<table>";
                        for (let info of Object.entries(dados)) {
                           result += "<tr>"+
                                     "<td>"+info[0]+"</td>"+
                                     "<td>"+info[1].nome+"</td>"+
                                     "<td>"+info[1].idade+"</td>"+
                                     "</tr>";
                        }
                        result += "</table>";
                        document.getElementById("info").innerHTML = result;
                     })
                .catch(err => console.log(err));
         } 
    </script>
</body>
</html>